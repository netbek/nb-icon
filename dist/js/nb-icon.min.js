/*
 * nb-icon
 * https://github.com/netbek/nb-icon
 *
 * @author Hein Bekker <hein@netbek.co.za>
 * @copyright (c) 2015 Hein Bekker
 * @license http://www.gnu.org/licenses/agpl-3.0.txt AGPLv3
 */
!function(a,b,c){"use strict";function d(){var a={colors:{},prefix:"icon",pngUrl:"",size:128,svg:c};return{set:function(b){_.merge(a,b)},$get:function(){return a}}}function e(a){if(a in k)return k[a];if(!j)throw new Error("XMLSerializer is not instantiated.");var b,c="",d=document.getElementById(a);return d&&1===d.nodeType&&(b=d.getAttribute("viewBox"),_.forEach(d.childNodes,function(a){3!==a.nodeType&&(c+=j.serializeToString(a))})),k[a]={viewBox:b,inner:c},k[a]}function f(a,b,d,f){function g(a){return a&&a in f.colors?f.colors[a]:!1}function h(a){return'<img class="'+a.className+'" src="'+f.pngUrl+f.prefix+"-"+a.id+(a.color?"-"+a.color:"")+'.png" alt="" />'}function j(a){var b=e(f.prefix+"-"+a.id),c=b.viewBox||"0 0 "+a.width+" "+a.height;return'<svg class="'+a.className+'"'+(a.fill?' fill="'+a.fill+'"':"")+' viewBox="'+c+'" preserveAspectRatio="xMidYMid meet" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">'+b.inner+"</svg>"}var k=f.svg===!0||f.svg===c&&i.serialize&&i.svg&&i.inlinesvg;a.prefix=f.prefix,this.attrs=function(){return{id:d.id,hoverId:d.hoverId,title:d.title,width:d.width,height:d.height,color:d.color,hoverColor:d.hoverColor}},this.update=function(c){var d,e=c.color,i={className:"default"+(e?" "+e:""),id:c.id,color:e,fill:g(e),width:c.width||f.size,height:c.height||f.size};if(c.hoverId||c.hoverColor){var l=c.hoverColor||e;d={className:"hover"+(l?" "+l:""),id:c.hoverId||c.id,color:l,fill:g(l),width:i.width,height:i.height}}var m;k?(m=j(i),d&&(m+=j(d))):(m=h(i),d&&(m+=h(d))),b.html(m);var n=Number(i.height/i.width*1e4)/100;a.style=100===n?"":"height: 0; padding: 0 0 "+n+"% 0;"}}function g(){return{restrict:"EA",replace:!0,controller:"nbIconController",templateUrl:"templates/nb-icon.html",scope:{id:"@",hoverId:"@?",title:"@?",width:"@?",height:"@?",color:"@?",hoverColor:"@?"},link:function(a,b,c,d){var e=a.$watch(d.attrs,function(a){a&&a.id&&d.update(a)},!0);a.$on("$destroy",function(){e()})}}}function h(){return{restrict:"EA",replace:!0,controller:"nbIconController",templateUrl:"templates/nb-icon-once.html",scope:{id:"@",hoverId:"@?",title:"@?",width:"@?",height:"@?",color:"@?",hoverColor:"@?"},link:function(a,b,c,d){var e=a.$watch(d.attrs,function(a){a&&a.id&&(d.update(a),e())},!0);a.$on("$destroy",function(){e()})}}}b.module("nb.icon",["nb.lodash","nb.icon.templates"]).provider("nbIconConfig",d).controller("nbIconController",f).directive("nbIcon",g).directive("nbIconOnce",h);var i={};i.serialize="function"==typeof XMLSerializer,i.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,i.inlinesvg=function(){var a=document.createElement("div");return a.innerHTML="<svg/>","http://www.w3.org/2000/svg"==(a.firstChild&&a.firstChild.namespaceURI)}();var j,k={};i.serialize&&(j=new XMLSerializer),f.$inject=["$scope","$element","$attrs","nbIconConfig"]}(window,window.angular),angular.module("nb.icon.templates",["templates/nb-icon-once.html","templates/nb-icon.html"]),angular.module("templates/nb-icon-once.html",[]).run(["$templateCache",function(a){a.put("templates/nb-icon-once.html","<span ng-attr-class=\"{{::(prefix + ' ' + prefix + '-' + id + (hoverId || hoverColor ? ' has-hover' : ''))}}\"\n	  ng-attr-style=\"{{::('' + style)}}\"\n	  ng-attr-title=\"{{::('' + title)}}\"\n	  aria-hidden=\"true\"\n	  draggable=\"false\"\n	  ondragstart=\"return false;\">\n</span>\n")}]),angular.module("templates/nb-icon.html",[]).run(["$templateCache",function(a){a.put("templates/nb-icon.html","<span ng-attr-class=\"{{prefix + ' ' + prefix + '-' + id + (hoverId || hoverColor ? ' has-hover' : '')}}\"\n	  ng-attr-style=\"{{'' + style}}\"\n	  ng-attr-title=\"{{'' + title}}\"\n	  aria-hidden=\"true\"\n	  draggable=\"false\"\n	  ondragstart=\"return false;\">\n</span>\n")}]);